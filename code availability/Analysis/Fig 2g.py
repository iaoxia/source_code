import matplotlib.pyplot as plt
import numpy as np
plt.rcParams['font.sans-serif'] = 'Helvetica'



fig = plt.figure(figsize=(12,3))
legend_font = {
    'family': 'Helvetica',  # 字体
    'style': 'normal',
    'size': 'small',  # 字号
    'weight': "bold"}

ax1 = fig.add_axes([0.1, 0.2, 0.8, 0.6])
# RMSE


RMSE_bj = [0.44448, 0.4495, 0.44219, 0.4152, 0.44929, 0.43687, 0.37426, 0.38211, 0.34631, 0.35749, 0.35153, 0.37221,
           0.38331, 0.35532, 0.36187, 0.35843, 0.34466, 0.34406, 0.34416, 0.35522, 0.34223, 0.2965, 0.30637, 0.32667,
           0.24172, 0.24868, 0.25437, 0.24808, 0.23732, 0.24209, 0.2503, 0.26053, 0.27197, 0.2383, 0.2431, 0.26836,
           0.22276, 0.22302, 0.22153, 0.23952, 0.24894, 0.22169, 0.23924, 0.26958, 0.23381, 0.2213, 0.23567, 0.25053,
           0.27197, 0.29795, 0.29721, 0.31516, 0.33999, 0.34969, 0.33866, 0.31323, 0.31127, 0.31614, 0.33155, 0.32102, 0.34603]

MBE_bj1 = [-0.1414, -0.15152, -0.1258, -0.11213, -0.1088, -0.14452, -0.13486, -0.12853, -0.13418, -0.15423, -0.13839, -0.11579,
        -0.0968, -0.10563, -0.08065, -0.09483, -0.08935, -0.11257, -0.13355, -0.15425, -0.14871, -0.13473, -0.12226, -0.11452,
        -0.08258, -0.07427, -0.09484, -0.0645, -0.07839, -0.0545, -0.0929, -0.06425, -0.0445, -0.0556, -0.05258, -0.04478,
        -0.102,  -0.0985, -0.1235, -0.1125, -0.0965, -0.094, -0.103, -0.092, -0.1065, -0.106, -0.0965, -0.1005, -0.08489,
        -0.10895, -0.11316, -0.12158, -0.11474, -0.10474, -0.12895, -0.11316, -0.12895, -0.08211, -0.07368, -0.0921, -0.1223]



RMSE_nj = [0.37528, 0.34014, 0.36173,  0.33511, 0.3238, 0.33291, 0.28912, 0.29778, 0.30639, 0.32424, 0.32157, 0.33342,
           0.32925, 0.29478, 0.30213, 0.31083, 0.34762, 0.30341, 0.30656, 0.28747, 0.30347, 0.30061, 0.29545, 0.31311,
           0.24600, 0.23338, 0.23914, 0.24232, 0.25137, 0.23901, 0.24538, 0.2418, 0.2402, 0.24863, 0.24218, 0.23515,
           0.22256, 0.22625, 0.22721, 0.22137, 0.22024, 0.22173, 0.23653, 0.25516, 0.25757, 0.24529, 0.23699, 0.24121,
           0.24529, 0.23699, 0.24121, 0.25559, 0.25970, 0.23770, 0.26101, 0.28131, 0.27600, 0.26338, 0.26914, 0.27232, 0.28137]

MBE_nj = [-0.12065, -0.11256, -0.13839, -0.15478, -0.16355, -0.15752, -0.13374, -0.1229, -0.13789, -0.11645, -0.13221, -0.10935,
          -0.10258, -0.067, -0.07, -0.0752, -0.08484, -0.0684, -0.078, -0.06452, -0.056, -0.05258, -0.06871, -0.08226, -0.07452,
          -0.06452, -0.04968, -0.06103, -0.0414, -0.02, -0.05276, -0.04897, -0.06134, -0.05517, -0.06793, -0.05862, -0.0731, -0.0623,
          -0.06216, -0.07245, -0.09663, -0.08379, -0.05517, -0.0516, -0.06828, -0.05103, -0.07283, -0.08783, -0.08645,
          -0.1036, -0.0893, -0.10393, -0.09321, -0.11964, -0.12929, -0.13286, -0.10964, -0.10714, -0.1179, -0.13464, -0.12393]


RMSE_zh =[0.41223, 0.38532, 0.36187, 0.35843, 0.34466, 0.35406, 0.34416, 0.37522, 0.30501, 0.29795, 0.29721, 0.31516,
          0.29996, 0.30501, 0.29795, 0.29721, 0.31516, 0.33999, 0.34969, 0.33866, 0.31323, 0.31127, 0.28146, 0.27451,
          0.21023, 0.20207, 0.21652, 0.23104, 0.22691, 0.23927, 0.24146, 0.24451, 0.23996, 0.22624, 0.21261, 0.24122,
          0.20634, 0.21059, 0.2287, 0.24172, 0.24868, 0.25437,  0.23927, 0.28146, 0.27451, 0.29996, 0.29795, 0.27212,
          0.33866, 0.31323, 0.31127, 0.31614, 0.29922, 0.30182, 0.30022, 0.29012, 0.31376, 0.35684, 0.34567, 0.30041, 0.32567]

MBE_zh = [-0.0931, -0.10231, -0.07621, -0.08724, -0.07996, -0.08349, -0.06518, -0.05828, -0.07103, -0.05793, -0.04345, -0.05172,
          -0.03077, -0.03846, -0.04115, -0.04077, -0.06923, -0.04462, -0.02962, -0.02577, -0.03, -0.02538, -0.02192, -0.01308,
          -0.0331, -0.03345, -0.04241, -0.03862, -0.0369, -0.02931, -0.02138, -0.01966, -0.01759, -0.05172, -0.04069, -0.04103, -0.0524,
          -0.04966, -0.03483, -0.0369, -0.02931, -0.02138, -0.01966, -0.01759, -0.05172, -0.04069, -0.04103, -0.04966, -0.03483,
          -0.05172, -0.02655, -0.01621,-0.07966, -0.08379, -0.06517, -0.05828, -0.07103, -0.05793, -0.04345, -0.05172, -0.0742]



plt.xlim(0.3, 61.7)

x = np.linspace(1, 61, 61)
plt.ylabel('RMSE', fontweight='bold', fontsize=14)
plt.yticks(fontsize=10)
plt.ylim(0.2, 0.45)
# plt.xticks(x, color='r', fontsize=10)

ax1.set_xticks(x, minor=True)

lw = 1.5

plt.plot(x, RMSE_bj, color='#77AC30', lw=lw)
plt.plot(x, RMSE_nj, color='#D95319', lw=lw)
plt.plot(x, RMSE_zh, color='#0072BD', lw=lw)
for xx in x:
    plt.plot([xx, xx], [0.2, 0.45], ls='--', lw=0.3, color='gray')
plt.legend(['Beijing_RMSE', 'Nanjing_RMSE', 'Zhuhai_RMSE'], loc=[0.6, 0.87], prop=legend_font, ncol=3)
plt.grid(ls='--', lw=0.3)


plt.twinx()
plt.ylabel('MBE', fontweight='bold', fontsize=14)
plt.yticks(fontsize=10)
# plt.xticks(x, color='w', fontsize=1)
plt.ylim(-0.3, 0.2)
plt.plot(x, MBE_bj1, color='#77AC30', lw=lw, ls='--')
plt.plot(x, MBE_nj, color='#D95319', lw=lw, ls='--')
plt.plot(x, MBE_zh, color='#0072BD', lw=lw, ls='--')

# plt.grid(ls='--', lw=0.5, color='gray')

# for xx in x:
#     plt.plot([xx, xx], [-0.3, 0.2], ls='--', lw=0.5, color='gray')

plt.legend(['Beijing_MBE', 'Nanjing_MBE', 'Zhuhai_MBE'], loc=[0.626, 0.73], prop=legend_font, ncol=3)

x2 = np.linspace(1, 61, 21)
ax1.set_xticks(x2)

major_xticklabels_list = ax1.set_xticklabels(x2, fontdict=dict(fontsize=1, color='w'))
# # 设置x次要刻度标签
# minor_xticklabels_list = ax.set_xticklabels(xticks1_label, fontdict=dict(fontsize=15, color='#ff0000'), minor=True)

'----------------------------------------------------------------------------------------------------------------------'

fz = 8
yy= -0.34
plt.text(x=0+0.1, y=yy, s='08:00', fontsize=fz)
plt.text(x=3+0.1, y=yy, s='08:30', fontsize=fz)
plt.text(x=6+0.1, y=yy, s='09:00', fontsize=fz)
plt.text(x=9+0.1, y=yy, s='09:30', fontsize=fz)
plt.text(x=12+0.1, y=yy, s='10:00', fontsize=fz)
plt.text(x=15+0.1, y=yy, s='10:30', fontsize=fz)
plt.text(x=18+0.1, y=yy, s='11:00', fontsize=fz)
plt.text(x=21+0.1, y=yy, s='11:30', fontsize=fz)
plt.text(x=24+0.1, y=yy, s='12:00', fontsize=fz)
plt.text(x=27+0.1, y=yy, s='12:30', fontsize=fz)
plt.text(x=30+0.1, y=yy, s='13:00', fontsize=fz)
plt.text(x=33+0.1, y=yy, s='13:30', fontsize=fz)
plt.text(x=36+0.1, y=yy, s='14:00', fontsize=fz)
plt.text(x=39+0.1, y=yy, s='14:30', fontsize=fz)
plt.text(x=42+0.1, y=yy, s='15:00', fontsize=fz)
plt.text(x=45+0.1, y=yy, s='15:30', fontsize=fz)
plt.text(x=48+0.1, y=yy, s='16:00', fontsize=fz)
plt.text(x=51+0.1, y=yy, s='16:30', fontsize=fz)
plt.text(x=54+0.1, y=yy, s='17:00', fontsize=fz)
plt.text(x=57+0.1, y=yy, s='17:30', fontsize=fz)
plt.text(x=60+0.1, y=yy, s='18:00', fontsize=fz)
plt.text(x=29.1,y=-0.39, s='Local time', fontweight='bold', fontsize=14)
'----------------------------------------------------------------------------------------------------------------------'
plt.savefig('daily', dpi=1000)
# plt.show()